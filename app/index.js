System.registerDynamic("app/environment.js",[],!0,function(a,b,c){"use strict";return b.environment={production:!0},c.exports}),System.registerDynamic("app/stock.service.js",["@angular/core","@angular/http","rxjs/Observable","rxjs/add/operator/map","rxjs/add/observable/of","angularfire2"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/http"),h=a("rxjs/Observable");a("rxjs/add/operator/map"),a("rxjs/add/observable/of");var i=a("angularfire2"),j="http://dev.markitondemand.com/MODApis/Api/v2/",k="/jsonp",l=j+"Lookup"+k,m=j+"InteractiveChart"+k,n=function(){function a(a,b){var c=this;this.jsonp=a,this.af=b,this.indexes=[],this.stocks=b.database.list("/stocks"),this.stocks.subscribe(function(a){return c.indexes=a.map(function(a){return c.getKey(a)})})}return a.prototype.addStock=function(a){return this.indexes.indexOf(this.getKey(a))>=0?!1:(this.stocks.push(a),!0)},a.prototype.removeStock=function(a){this.stocks.remove(a)},a.prototype.getKey=function(a){return a.exchange+":"+a.symbol},a.prototype.findStocks=function(a){if(0===a.length)return h.Observable.of([]);var b=new g.URLSearchParams;return b.set("input",a),b.set("jsoncallback","JSONP_CALLBACK"),this.jsonp.get(l,{search:b}).map(function(a){return a.json()}).map(function(a){return a.map(function(a){return{symbol:a.Symbol,name:a.Name,exchange:a.Exchange}})}).map(function(a){return a.filter(function(a){return"NYSE"===a.exchange||"NASDAQ"===a.exchange})})},a.prototype.interactiveChart=function(a){var b=a.map(this.mapStock),c={Normalized:!1,EndDate:"2015-05-01T00:00:00-00",NumberOfDays:60,DataPeriod:"Day",LabelPeriod:"Week",LabelInterval:1,Elements:b},d=new g.URLSearchParams;return d.set("parameters",JSON.stringify(c)),d.set("jsoncallback","JSONP_CALLBACK"),this.jsonp.get(m,{search:d}).map(function(a){return a.json()})},a.prototype.mapStock=function(a){return{Symbol:a.symbol,Type:"price",Params:["c"]}},a=d([f.Injectable(),e("design:paramtypes",[g.Jsonp,i.AngularFire])],a)}();return b.StockService=n,c.exports}),System.registerDynamic("app/chart.component.js",["@angular/core","./stock.service","ng2-charts/ng2-charts","chartjs"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("./stock.service"),h=a("ng2-charts/ng2-charts");a("chartjs");var i=function(){function a(a){this.stockService=a,this.lineChartData=[],this.lineChartLabels=[]}return a.prototype.ngOnChanges=function(){this.updateChart()},a.prototype.updateChart=function(){var a=this;return 0===this.stocks.length?(this.lineChartData=[],void(this.lineChartLabels=[])):void this.stockService.interactiveChart(this.stocks).subscribe(function(b){return 0===b.Elements.length?(console.warn("no data available"),void(a.message="Unfortunately, the webservice does not have data on the stocks you selected.")):(a.message=null,a.lineChartLabels=b.Dates.map(function(a){return a.substring(0,10)}),void(a.lineChartData=b.Elements.map(function(b){return a.mapSingleStockData(b)})))},function(b){a.message="An error occured retrieving the stock data: "+JSON.stringify(b)})},a.prototype.mapSingleStockData=function(a){return{data:a.DataSeries.close.values,label:a.Symbol,fill:!1}},d([f.Input(),e("design:type",Array)],a.prototype,"stocks",void 0),a=d([f.Component({moduleId:c.id,selector:"stocks-chart",templateUrl:"chart.component.html",directives:[h.CHART_DIRECTIVES],styleUrls:["chart.component.css"]}),e("design:paramtypes",[g.StockService])],a)}();return b.ChartComponent=i,c.exports}),System.registerDynamic("app/stocks-table.component.js",["@angular/core","rxjs/add/operator/debounceTime","rxjs/add/operator/distinctUntilChanged","rxjs/add/operator/switchMap"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core");a("rxjs/add/operator/debounceTime"),a("rxjs/add/operator/distinctUntilChanged"),a("rxjs/add/operator/switchMap");var g=function(){function a(){this.actionClicked=new f.EventEmitter}return a.prototype.onClick=function(a){this.actionClicked.emit(a)},d([f.Input(),e("design:type",Array)],a.prototype,"stocks",void 0),d([f.Input(),e("design:type",String)],a.prototype,"buttonType",void 0),d([f.Input(),e("design:type",String)],a.prototype,"icon",void 0),d([f.Output(),e("design:type",Object)],a.prototype,"actionClicked",void 0),a=d([f.Component({moduleId:c.id,selector:"stocks-table",templateUrl:"stocks-table.component.html"}),e("design:paramtypes",[])],a)}();return b.StocksTableAppComponent=g,c.exports}),System.registerDynamic("app/stocks.component.js",["@angular/core","@angular/common","./stock.service","rxjs/add/operator/debounceTime","rxjs/add/operator/distinctUntilChanged","rxjs/add/operator/switchMap","./chart.component","./stocks-table.component"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/common"),h=a("./stock.service");a("rxjs/add/operator/debounceTime"),a("rxjs/add/operator/distinctUntilChanged"),a("rxjs/add/operator/switchMap");var i=a("./chart.component"),j=a("./stocks-table.component"),k=function(){function a(a){var b=this;this.stockService=a,this.searchStock=new g.Control,this.searchStockResults=[],this.queryUnderway=!1,this.stocks=[],this.searchStock.valueChanges.map(function(a){return b.queryUnderway=!0,a}).debounceTime(400).distinctUntilChanged().switchMap(function(a){return b.stockService.findStocks(a)}).subscribe(function(a){b.queryUnderway=!1,b.searchStockResults=a}),this.stockService.stocks.subscribe(function(a){return b.stocks=a})}return a.prototype.addStock=function(a){var b=this.stockService.addStock(a);b?this.setMessage("Stock "+a.name+" added to the watch list"):this.setMessage("You are already following the stock "+a.name),this.searchStock.updateValue("")},a.prototype.removeStock=function(a){this.stockService.removeStock(a),this.setMessage("Removed stock "+a.name+" from the watch list")},a.prototype.setMessage=function(a){var b=this;this.message=a,setTimeout(function(){return b.message=null},5e3)},a=d([f.Component({moduleId:c.id,selector:"stocks-app",templateUrl:"stocks.component.html",directives:[i.ChartComponent,j.StocksTableAppComponent],providers:[h.StockService]}),e("design:paramtypes",[h.StockService])],a)}();return b.StocksAppComponent=k,c.exports}),System.registerDynamic("app/index.js",["./environment","./stocks.component"],!0,function(a,b,c){"use strict";var d=a("./environment");b.environment=d.environment;var e=a("./stocks.component");return b.StocksAppComponent=e.StocksAppComponent,c.exports});